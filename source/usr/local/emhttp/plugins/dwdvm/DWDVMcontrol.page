Menu="DWDVMsettings:1"
Title="DVM Settings"
Tag="wrench"
Markdown="false"
---
<?
/* Copyright Derek Macias (parts of code from NUT package)
 * Copyright macester (parts of code from NUT package)
 * Copyright gfjardim (parts of code from NUT package)
 * Copyright SimonF (parts of code from NUT package)
 * Copyright Mohamed Emad (icon from vnstat-server package)
 * Copyright desertwitch
 *
 * Copyright Dan Landon
 * Copyright Bergware International
 * Copyright Lime Technology
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License 2
 * as published by the Free Software Foundation.
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 */

require_once '/usr/local/emhttp/plugins/dwdvm/include/dwdvm_config.php';

$dvm_interfac_raw = shell_exec("find /sys/class/net/ -type l 2>/dev/null");
$dvm_interfac_raw = str_replace("/sys/class/net/", "", $dvm_interfac_raw);

$dvm_available_interfacs = false;
if(!empty($dvm_interfac_raw)) {
    $dvm_available_interfacs = explode(PHP_EOL, trim($dvm_interfac_raw));
} else {
    $dvm_available_interfacs = false;
}

$dvm_available_raw = shell_exec("docker ps --format '{{.Names}}' --all 2>/dev/null");
$dvm_available_dockers = false;
if(!empty($dvm_available_raw)) {
    $dvm_available_dockers = explode(PHP_EOL, trim($dvm_available_raw));
    $dvm_available_dockers = array_filter($dvm_available_dockers);
} else {
    $dvm_available_dockers = false;
}

$dvm_available_raw2 = shell_exec("virsh list --name --all 2>/dev/null");
$dvm_available_vms = false;
if(!empty($dvm_available_raw2)) {
    $dvm_available_vms = explode(PHP_EOL, trim($dvm_available_raw2));
    $dvm_available_vms = array_filter($dvm_available_vms);
} else {
    $dvm_available_vms = false;
}

if($dwdvm_running && $dwdvm_autopurge == "enable") {
    shell_exec("/usr/local/emhttp/plugins/dwdvm/scripts/clean_db");
}

$custom_iface_string = "{$dwdvm_custom1_interface};{$dwdvm_custom2_interface};{$dwdvm_custom3_interface};{$dwdvm_custom4_interface};{$dwdvm_custom5_interface};{$dwdvm_custom6_interface}";
$custom_iface_array = explode(";", trim($custom_iface_string)) ?? [];
$double_primary = in_array($dwdvm_primary,$custom_iface_array);

?>

<?if ($double_primary):?>
<div style="border: 3px solid red;padding: 5px;color: red;">
    You have configured at least one secondary interface threshold to monitor your configured primary network interface.<br>
    <strong>Please use the primary interface thresholds to monitor the primary interface</strong>, secondary interface thresholds have no effect on the primary interface.
</div><br>
<?endif;?>

<span style="float:right;margin-right:10px"><a href="" target="_blank" title="DVM Support Thread"><i class="fa fa-medkit"></i> <u>Support Thread</u></a> / <a href="https://humdi.net/vnstat/" target="_blank" title="DVM User Manual"><i class="fa fa-file-text-o"></i> <u>User Manual</u></a></span>

<div>
    <span class="left"><i class="icon fa fa-power-off"></i> Service Settings</span>
</div>

<br>

<form markdown="0" id="dwdvm-settings" name="dwdvm_settings" method="POST" action="/update.php" target="progressFrame">
    <input type="hidden" name="#file" value="dwdvm/dwdvm.cfg">
    <input type="hidden" id="command" name="#command" value="/usr/local/emhttp/plugins/dwdvm/scripts/write_config" />
    
    <dl>
        <dt>DVM Backend:</dt>
        <dd>
	        <strong><?= isset($dwdvm_installed_backend) && $dwdvm_installed_backend ? $dwdvm_installed_backend : "n/a" ?></strong>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>The version of the vnStat backend that is installed on your system for monitoring of the network interfaces.</p>
    </blockquote>

    <dl>
        <dt><strong>Start DVM service:</strong></dt>
        <dd>
            <select id="SERVICE" name="SERVICE" size="1">
                <?=mk_option($dwdvm_service, "disable", "No");?>
                <?=mk_option($dwdvm_service, "enable", "Yes");?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>Set to <strong>'Yes'</strong> to start and enable DVM, the service will start automatically when the system boots.</p>
        <p>Set to <strong>'No'</strong> to stop and disable DVM, the service will not start automatically when the system boots.</p>
    </blockquote>

    <dl>
        <dt>Persist Database on Reboot</dt>
        <dd>
            <select id="BACKUPDB" name="BACKUPDB" class="dwdvm-run" size="1">
                <?=mk_option($dwdvm_backupdb, "disable", "No");?>
                <?=mk_option($dwdvm_backupdb, "enable", "Yes");?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>Set to <strong>'Yes'</strong> to make the DVM database persist regular system reboots.</p>
        <p>Set to <strong>'No'</strong> to always start with a fresh DVM database on system reboot.</p>
        <p>In case of a power outage the last available database remaining on the flash drive will be restored (when enabled).</p>
    </blockquote>

    <dl>
        <dt>
            <input id="DEFAULT" type="submit" name="#default" value="Default">
            <input id="RESETCONF" class="dwdvm-run" type="button" value="Reset Config">
            <input id="RESETALL" class="dwdvm-run" type="button" value="Reset All">
        </dt>
        <dd>
            <input type="submit" id="btnApply" name="#apply" value="Apply">
            <input type="button" value="Done" onclick="done()">
            <input id="RESTART" type="button" value="Restart DVM">
        </dd>
    </dl>

    <blockquote class="inline_help">
    <p><strong>Reset Config</strong> will return your DVM configuration to the default state (preserving the database).</p>
    <p><strong>Reset All</strong> will return your DVM configuration and database to the default state (<u>not</u> preserving the database).</p>
    <p><strong>Restart DVM</strong> will restart the DVM service.</p>
    </blockquote>

</form>

<div>
    <span class="left"><i class="icon fa fa-cogs"></i> Runtime Settings</span>
</div>

<br>

<form markdown="0" id="dwdvm-display" name="dwdvm_display" method="POST" action="/update.php" target="progressFrame">
    <input type="hidden" name="#file" value="dwdvm/dwdvm.cfg">
    <input type="hidden" id="command2" name="#command" value="/usr/local/emhttp/plugins/dwdvm/scripts/write_config" />

    <dl>
        <dt><strong>Primary Network Interface:</strong></dt>
        <dd>
        <?
        if($dvm_available_interfacs) {
            echo("<select id='PRIMARY' name='PRIMARY' size='1'>");
            echo(mk_option($dwdvm_primary, "noiface", "-")); 
            foreach ($dvm_available_interfacs as $dvm_available_interfac)
            { 
                echo(mk_option($dwdvm_primary, $dvm_available_interfac, $dvm_available_interfac)); 
            }
            echo("</select>");
        } else {
            echo("<input type='text' class='narrow' id='PRIMARY' name='PRIMARY' maxlength='40' value='$dwdvm_primary'>");
        }
        ?>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what network interface is used for the data volume metrics shown in the dashboard and footer.</p>
        <p>It is also the network interface that is used for the primary network interface data volume notifications and user actions.</p>
    </blockquote>

    <dl>
        <dt>Show Virtual Network Interfaces:</dt>
        <dd>
            <select id="VIFACES" name="VIFACES" size="1">
                <?=mk_option($dwdvm_vifaces, "disable", "No");?>
                <?=mk_option($dwdvm_vifaces, "enable", "Yes");?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls if virtual network interfaces should also be displayed on this page.</p>
        <p>Not all virtual network interfaces are monitorable and some data reported for such interfaces may be inconsistent.</p>
    </blockquote>

    <dl>
        <dt>Show Removed Network Interfaces:</dt>
        <dd>
            <select id="OIFACES" name="OIFACES" size="1">
                <?=mk_option($dwdvm_oifaces, "disable", "No");?>
                <?=mk_option($dwdvm_oifaces, "enable", "Yes");?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls if network interfaces that are in the database, but no longer exist on the system, should be shown on this page.</p>
        <p>You can purge any removed network interfaces and their recorded data volume information from the database using the <strong>'Purge Database'</strong> button at the bottom of this page.</p>
    </blockquote>

    <dl>
        <dt>Auto Purge Removed Network Interfaces:</dt>
        <dd>
            <select id="AUTOPURGE" name="AUTOPURGE" size="1">
                <?=mk_option($dwdvm_autopurge, "disable", "No");?>
                <?=mk_option($dwdvm_autopurge, "enable", "Yes");?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls if network interfaces that are in the database, but no longer exist on the system, should be removed from the database automatically.</p>
        <p>You can also manually purge any removed network interfaces and their recorded data volume information from the database using the <strong>'Purge Database'</strong> button at the bottom of this page.</p>
    </blockquote>

    <dl>
        <dt><strong>Show Data Volume Metrics in Dashboard:</strong></dt>
        <dd>
            <select id="DASHB" name="DASHB" size="1">
                <?=mk_option($dwdvm_dashb, "disable", "No");?>
                <?=mk_option($dwdvm_dashb, "enable", "Yes");?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting will enable a dashboard with data volume metrics for the primary network interface (as configured above) on your system front page.</p>
    </blockquote>

    <dl>
        <dt><strong>Show Data Volume Metrics in Footer:</strong></dt>
        <dd>
            <select id="FOOTER" name="FOOTER" size="1">
                <?=mk_option($dwdvm_footer, "disable", "No");?>
                <?=mk_option($dwdvm_footer, "enable", "Yes");?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting will enable a footer with data volume metrics for the primary network interface (as configured above) on all of your system pages.</p>
    </blockquote>

    <dl>
        <dt>General Data Volume Reporting Output Format:</dt>
        <dd>
            <select id="REPORT" name="REPORT" size="1">
                <?=mk_option($dwdvm_report, 'text', 'Textual Metrics');?>
                <?=mk_option($dwdvm_report, 'images', 'Image Metrics');?>
                <?=mk_option($dwdvm_report, 'both', 'Dual Metrics');?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls how the data volume metrics are displayed on this page.</p>
        <p>Not all versions of UNRAID include the required image generation libraries, so on some system versions the image metrics may not show.</p>
    </blockquote>

    <dl>
        <dt>Miniature Data Volume Reporting Observed Time:</dt>
        <dd>
            <select id="FOOTERFORMAT" name="FOOTERFORMAT" size="1">
                <?=mk_option($dwdvm_footerformat, "5", "Last 5 Minutes");?>
                <?=mk_option($dwdvm_footerformat, "h", "Last Hour");?>
                <?=mk_option($dwdvm_footerformat, "d", "Last Day");?>
                <?=mk_option($dwdvm_footerformat, "m", "Last Month");?>
                <?=mk_option($dwdvm_footerformat, "y", "Last Year");?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls how the miniature data volume metrics are displayed for the primary network interface (as configured above) in the dashboard and footer.</p>
    </blockquote>

    <dl>
        <dt><strong>Data Volume <u>Exceeded</u> Notifications:</strong></dt>
        <dd>
            <select id="BADNOTIFY" name="BADNOTIFY" size="1">
                <?=mk_option($dwdvm_bad_notify, "disable", "No");?>
                <?=mk_option($dwdvm_bad_notify, "enable", "Yes");?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting will enable notifications when a certain data volume threshold has been exceeded on the monitored network interfaces.</p>
    </blockquote>

    <dl>
        <dt><strong>Data Volume <u>Reset</u> Notifications:</strong></dt>
        <dd>
            <select id="GOODNOTIFY" name="GOODNOTIFY" size="1">
                <?=mk_option($dwdvm_good_notify, "disable", "No");?>
                <?=mk_option($dwdvm_good_notify, "enable", "Yes");?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting will enable notifications when the data limit is normal again (reset) on the monitored network interfaces (enough time has passed).</p>
    </blockquote>

    <dl>
        <dt><strong>Data Volume <u>Exceeded</u> User Actions:</strong></dt>
        <dd>
            <select id="BADACTIONS" name="BADACTIONS" size="1">
                <?=mk_option($dwdvm_bad_actions, "disable", "No");?>
                <?=mk_option($dwdvm_bad_actions, "enable", "Yes");?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting will enable and execute user actions (below Docker/VM settings or configured inside <strong>dvm-user-actions.sh</strong>) once a certain data volume threshold has been exceeded on the primary network interface.</p>
    </blockquote>

    <dl>
        <dt><strong>Data Volume <u>Reset</u> User Actions:</strong></dt>
        <dd>
            <select id="GOODACTIONS" name="GOODACTIONS" size="1">
                <?=mk_option($dwdvm_good_actions, "disable", "No");?>
                <?=mk_option($dwdvm_good_actions, "enable", "Yes");?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting will enable and execute user actions (below Docker/VM settings or configured inside <strong>dvm-user-actions.sh</strong>) once the data limit is normal again (reset) on the primary network interface (enough time has passed).</p>
    </blockquote>

    <dl>
        <dt>Custom Alarms Script Execution Frequency:</dt>
            <dd>
                <select id="CRONINT" name="CRONINT" size="1">
                    <?=mk_option($dwdvm_cronint, 'disable', 'Never');?>
                    <?=mk_option($dwdvm_cronint, '01min', 'Every 01 Minute(s)');?>
                    <?=mk_option($dwdvm_cronint, '15min', 'Every 15 Minute(s)');?>
                    <?=mk_option($dwdvm_cronint, '30min', 'Every 30 Minute(s)');?>
                    <?=mk_option($dwdvm_cronint, '45min', 'Every 45 Minute(s)');?>
                    <?=mk_option($dwdvm_cronint, '60min', 'Every 60 Minute(s)');?>
                </select>
            </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls how often the custom alarms script (contents of <strong>dvm-custom-alarms.sh</strong>) is executed by the crontab.</p>
        <p>This script is for advanced users and operates independently from the notifications, data thresholds and user actions configured below.</p>
        <p><strong>In most cases you will <u>not</u> need to enable this setting, it has nothing to do with the notifications and user actions configured below.</strong></p>
    </blockquote>

    <dl>
        <dt>
            <input id="DEFAULT" type="submit" name="#default" value="Default">
            <input id="CLEANDB" type="button" value="Purge Database">
        </dt>
        <dd>
            <input type="submit" id="btnApply2" name="#apply" value="Apply"><input type="button" value="Done" onclick="done()">
        </dd>
    </dl>

    <blockquote class="inline_help">
    <p><strong>Purge Database</strong> cleans no longer existing network interfaces and their recorded data volume information from the database.</p>
    </blockquote>
</form>

<br><hr><br>

<form markdown="0" id="dwdvm-alarms" name="dwdvm_alarms" method="POST" action="/update.php" target="progressFrame">
    <input type="hidden" name="#file" value="dwdvm/dwdvm.cfg">
    <input type="hidden" id="command3" name="#command" value="/usr/local/emhttp/plugins/dwdvm/scripts/write_config" />

    <div>
    <span class="left"><i class="icon fa fa-bullhorn"></i> Primary Interface Thresholds and User Actions </span>
    </div><br>

    <dl>
        <dt>Last <strong>Hour</strong> <strong><u>IN</u></strong>-bound Data Volume Threshold:</dt>
        <dd>
            <input type="text" class="narrow dvmlimit" id="RXLIMITH" name="RXLIMITH" maxlength="40" value="<?=$dwdvm_hlimit_rx;?>">
            <select id="RXUNITH" name="RXUNITH" size="1">
            <?=mk_option($dwdvm_hunit_rx, "B", "B");?>
            <?=mk_option($dwdvm_hunit_rx, "KB", "KB");?>
            <?=mk_option($dwdvm_hunit_rx, "MB", "MB");?>
            <?=mk_option($dwdvm_hunit_rx, "GB", "GB");?>
            <?=mk_option($dwdvm_hunit_rx, "TB", "TB");?>
            </select><em style="font-size:x-small">disable: -1</em>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls the last hour inbound data volume threshold on notifications, user actions, dashboard and footer (for the primary network interface).</p>
        <p><strong>This settings only has an effect on notifications and user actions when at least one notification or user action (threshold exceeded or reset) is enabled.</strong></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Hour</strong> <strong><u>IN</u></strong>-bound Stop / Start Docker Container:</dt>
        <dd>
            <select id="RXDOCKERHSTOP" name="RXDOCKERHSTOP" size="1">
            <?=mk_option($dwdvm_hdocker_rx_stop, "disable", "Stop: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_hdocker_rx_stop, $dvm_available_docker, "Stop: $dvm_available_docker")); } }?>
            </select>
            <select id="RXDOCKERHSTART" name="RXDOCKERHSTART" size="1">
            <?=mk_option($dwdvm_hdocker_rx_start, "disable", "Start: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_hdocker_rx_start, $dvm_available_docker, "Start: $dvm_available_docker")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what Docker containers should be stopped when the last hour inbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what Docker containers should be started when the last hour inbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for stop container / threshold reset user action for start container) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Hour</strong> <strong><u>IN</u></strong>-bound Disconnect / Reconnect VM:</dt>
        <dd>
            <select id="RXVMHSTOP" name="RXVMHSTOP" size="1">
            <?=mk_option($dwdvm_hvm_rx_stop, "disable", "Disconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_hvm_rx_stop, $dvm_available_vm, "Disconnect: $dvm_available_vm")); } }?>
            </select>
            <select id="RXVMHSTART" name="RXVMHSTART" size="1">
            <?=mk_option($dwdvm_hvm_rx_start, "disable", "Reconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_hvm_rx_start, $dvm_available_vm, "Reconnect: $dvm_available_vm")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what virtual machine should be disconnected from the network when the last hour inbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what virtual machine should be reconnected to the network when the last hour inbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p>This action is equivalent to unplugging and replugging a network cable from a computer - this means in principle no other changes are made to the virtual machine and virtual machine settings respectively.</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for disconnect VM / threshold reset user action for reconnect VM) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Hour</strong> <strong><u>OUT</u></strong>-bound Data Volume Threshold:</dt>
        <dd>
            <input type="text" class="narrow dvmlimit" id="TXLIMITH" name="TXLIMITH" maxlength="40" value="<?=$dwdvm_hlimit_tx;?>">
            <select id="TXUNITH" name="TXUNITH" size="1">
            <?=mk_option($dwdvm_hunit_tx, "B", "B");?>
            <?=mk_option($dwdvm_hunit_tx, "KB", "KB");?>
            <?=mk_option($dwdvm_hunit_tx, "MB", "MB");?>
            <?=mk_option($dwdvm_hunit_tx, "GB", "GB");?>
            <?=mk_option($dwdvm_hunit_tx, "TB", "TB");?>
            </select><em style="font-size:x-small">disable: -1</em>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls the last hour outbound data volume threshold on notifications, user actions, dashboard and footer (for the primary network interface).</p>
        <p><strong>This settings only has an effect on notifications and user actions when at least one notification or user action (threshold exceeded or reset) is enabled.</strong></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Hour</strong> <strong><u>OUT</u></strong>-bound Stop / Start Docker Container:</dt>
        <dd>
            <select id="TXDOCKERHSTOP" name="TXDOCKERHSTOP" size="1">
            <?=mk_option($dwdvm_hdocker_tx_stop, "disable", "Stop: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_hdocker_tx_stop, $dvm_available_docker, "Stop: $dvm_available_docker")); } }?>
            </select>
            <select id="TXDOCKERHSTART" name="TXDOCKERHSTART" size="1">
            <?=mk_option($dwdvm_hdocker_tx_start, "disable", "Start: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_hdocker_tx_start, $dvm_available_docker, "Start: $dvm_available_docker")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what Docker containers should be stopped when the last hour outbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what Docker containers should be started when the last hour outbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for stop container / threshold reset user action for start container) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Hour</strong> <strong><u>OUT</u></strong>-bound Disconnect / Reconnect VM:</dt>
        <dd>
            <select id="TXVMHSTOP" name="TXVMHSTOP" size="1">
            <?=mk_option($dwdvm_hvm_tx_stop, "disable", "Disconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_hvm_tx_stop, $dvm_available_vm, "Disconnect: $dvm_available_vm")); } }?>
            </select>
            <select id="TXVMHSTART" name="TXVMHSTART" size="1">
            <?=mk_option($dwdvm_hvm_tx_start, "disable", "Reconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_hvm_tx_start, $dvm_available_vm, "Reconnect: $dvm_available_vm")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what virtual machine should be disconnected from the network when the last hour outbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what virtual machine should be reconnected to the network when the last hour outbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p>This action is equivalent to unplugging and replugging a network cable from a computer - this means in principle no other changes are made to the virtual machine and virtual machine settings respectively.</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for disconnect VM / threshold reset user action for reconnect VM) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Day</strong> <strong><u>IN</u></strong>-bound Data Volume Threshold:</dt>
        <dd>
            <input type="text" class="narrow dvmlimit" id="RXLIMITD" name="RXLIMITD" maxlength="40" value="<?=$dwdvm_dlimit_rx;?>">
            <select id="RXUNITD" name="RXUNITD" size="1">
            <?=mk_option($dwdvm_dunit_rx, "B", "B");?>
            <?=mk_option($dwdvm_dunit_rx, "KB", "KB");?>
            <?=mk_option($dwdvm_dunit_rx, "MB", "MB");?>
            <?=mk_option($dwdvm_dunit_rx, "GB", "GB");?>
            <?=mk_option($dwdvm_dunit_rx, "TB", "TB");?>
            </select><em style="font-size:x-small">disable: -1</em>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls the last day inbound data volume threshold on notifications, user actions, dashboard and footer (for the primary network interface).</p>
        <p><strong>This settings only has an effect on notifications and user actions when at least one notification or user action (threshold exceeded or reset) is enabled.</strong></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Day</strong> <strong><u>IN</u></strong>-bound Stop / Start Docker Container:</dt>
        <dd>
            <select id="RXDOCKERDSTOP" name="RXDOCKERDSTOP" size="1">
            <?=mk_option($dwdvm_ddocker_rx_stop, "disable", "Stop: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_ddocker_rx_stop, $dvm_available_docker, "Stop: $dvm_available_docker")); } }?>
            </select>
            <select id="RXDOCKERDSTART" name="RXDOCKERDSTART" size="1">
            <?=mk_option($dwdvm_ddocker_rx_start, "disable", "Start: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_ddocker_rx_start, $dvm_available_docker, "Start: $dvm_available_docker")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what Docker containers should be stopped when the last day inbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what Docker containers should be started when the last day inbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for stop container / threshold reset user action for start container) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Day</strong> <strong><u>IN</u></strong>-bound Disconnect / Reconnect VM:</dt>
        <dd>
            <select id="RXVMDSTOP" name="RXVMDSTOP" size="1">
            <?=mk_option($dwdvm_dvm_rx_stop, "disable", "Disconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_dvm_rx_stop, $dvm_available_vm, "Disconnect: $dvm_available_vm")); } }?>
            </select>
            <select id="RXVMDSTART" name="RXVMDSTART" size="1">
            <?=mk_option($dwdvm_dvm_rx_start, "disable", "Reconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_dvm_rx_start, $dvm_available_vm, "Reconnect: $dvm_available_vm")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what virtual machine should be disconnected from the network when the last day inbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what virtual machine should be reconnected to the network when the last day inbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p>This action is equivalent to unplugging and replugging a network cable from a computer - this means in principle no other changes are made to the virtual machine and virtual machine settings respectively.</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for disconnect VM / threshold reset user action for reconnect VM) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Day</strong> <strong><u>OUT</u></strong>-bound Data Volume Threshold:</dt>
        <dd>
            <input type="text" class="narrow dvmlimit" id="TXLIMITD" name="TXLIMITD" maxlength="40" value="<?=$dwdvm_dlimit_tx;?>">
            <select id="TXUNITD" name="TXUNITD" size="1">
            <?=mk_option($dwdvm_dunit_tx, "B", "B");?>
            <?=mk_option($dwdvm_dunit_tx, "KB", "KB");?>
            <?=mk_option($dwdvm_dunit_tx, "MB", "MB");?>
            <?=mk_option($dwdvm_dunit_tx, "GB", "GB");?>
            <?=mk_option($dwdvm_dunit_tx, "TB", "TB");?>
            </select><em style="font-size:x-small">disable: -1</em>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls the last day outbound data volume threshold on notifications, user actions, dashboard and footer (for the primary network interface).</p>
        <p><strong>This settings only has an effect on notifications and user actions when at least one notification or user action (threshold exceeded or reset) is enabled.</strong></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Day</strong> <strong><u>OUT</u></strong>-bound Stop / Start Docker Container:</dt>
        <dd>
            <select id="TXDOCKERDSTOP" name="TXDOCKERDSTOP" size="1">
            <?=mk_option($dwdvm_ddocker_tx_stop, "disable", "Stop: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_ddocker_tx_stop, $dvm_available_docker, "Stop: $dvm_available_docker")); } }?>
            </select>
            <select id="TXDOCKERDSTART" name="TXDOCKERDSTART" size="1">
            <?=mk_option($dwdvm_ddocker_tx_start, "disable", "Start: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_ddocker_tx_start, $dvm_available_docker, "Start: $dvm_available_docker")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what Docker containers should be stopped when the last day outbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what Docker containers should be started when the last day outbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for stop container / threshold reset user action for start container) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Day</strong> <strong><u>OUT</u></strong>-bound Disconnect / Reconnect VM:</dt>
        <dd>
            <select id="TXVMDSTOP" name="TXVMDSTOP" size="1">
            <?=mk_option($dwdvm_dvm_tx_stop, "disable", "Disconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_dvm_tx_stop, $dvm_available_vm, "Disconnect: $dvm_available_vm")); } }?>
            </select>
            <select id="TXVMDSTART" name="TXVMDSTART" size="1">
            <?=mk_option($dwdvm_dvm_tx_start, "disable", "Reconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_dvm_tx_start, $dvm_available_vm, "Reconnect: $dvm_available_vm")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what virtual machine should be disconnected from the network when the last day outbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what virtual machine should be reconnected to the network when the last day outbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p>This action is equivalent to unplugging and replugging a network cable from a computer - this means in principle no other changes are made to the virtual machine and virtual machine settings respectively.</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for disconnect VM / threshold reset user action for reconnect VM) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Month</strong> <strong><u>IN</u></strong>-bound Data Volume Threshold:</dt>
        <dd>
            <input type="text" class="narrow dvmlimit" id="RXLIMITM" name="RXLIMITM" maxlength="40" value="<?=$dwdvm_mlimit_rx;?>">
            <select id="RXUNITM" name="RXUNITM" size="1">
            <?=mk_option($dwdvm_munit_rx, "B", "B");?>
            <?=mk_option($dwdvm_munit_rx, "KB", "KB");?>
            <?=mk_option($dwdvm_munit_rx, "MB", "MB");?>
            <?=mk_option($dwdvm_munit_rx, "GB", "GB");?>
            <?=mk_option($dwdvm_munit_rx, "TB", "TB");?>
            </select><em style="font-size:x-small">disable: -1</em>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls the last month inbound data volume threshold on notifications, user actions, dashboard and footer (for the primary network interface).</p>
        <p><strong>This settings only has an effect on notifications and user actions when at least one notification or user action (threshold exceeded or reset) is enabled.</strong></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Month</strong> <strong><u>IN</u></strong>-bound Stop / Start Docker Container:</dt>
        <dd>
            <select id="RXDOCKERMSTOP" name="RXDOCKERMSTOP" size="1">
            <?=mk_option($dwdvm_mdocker_rx_stop, "disable", "Stop: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_mdocker_rx_stop, $dvm_available_docker, "Stop: $dvm_available_docker")); } }?>
            </select>
            <select id="RXDOCKERMSTART" name="RXDOCKERMSTART" size="1">
            <?=mk_option($dwdvm_mdocker_rx_start, "disable", "Start: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_mdocker_rx_start, $dvm_available_docker, "Start: $dvm_available_docker")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what Docker containers should be stopped when the last month inbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what Docker containers should be started when the last month inbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for stop container / threshold reset user action for start container) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Month</strong> <strong><u>IN</u></strong>-bound Disconnect / Reconnect VM:</dt>
        <dd>
            <select id="RXVMMSTOP" name="RXVMMSTOP" size="1">
            <?=mk_option($dwdvm_mvm_rx_stop, "disable", "Disconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_mvm_rx_stop, $dvm_available_vm, "Disconnect: $dvm_available_vm")); } }?>
            </select>
            <select id="RXVMMSTART" name="RXVMMSTART" size="1">
            <?=mk_option($dwdvm_mvm_rx_start, "disable", "Reconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_mvm_rx_start, $dvm_available_vm, "Reconnect: $dvm_available_vm")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what virtual machine should be disconnected from the network when the last month inbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what virtual machine should be reconnected to the network when the last month inbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p>This action is equivalent to unplugging and replugging a network cable from a computer - this means in principle no other changes are made to the virtual machine and virtual machine settings respectively.</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for disconnect VM / threshold reset user action for reconnect VM) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Month</strong> <strong><u>OUT</u></strong>-bound Data Volume Threshold:</dt>
        <dd>
            <input type="text" class="narrow dvmlimit" id="TXLIMITM" name="TXLIMITM" maxlength="40" value="<?=$dwdvm_mlimit_tx;?>">
            <select id="TXUNITM" name="TXUNITM" size="1">
            <?=mk_option($dwdvm_munit_tx, "B", "B");?>
            <?=mk_option($dwdvm_munit_tx, "KB", "KB");?>
            <?=mk_option($dwdvm_munit_tx, "MB", "MB");?>
            <?=mk_option($dwdvm_munit_tx, "GB", "GB");?>
            <?=mk_option($dwdvm_munit_tx, "TB", "TB");?>
            </select><em style="font-size:x-small">disable: -1</em>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls the last month outbound data volume threshold on notifications, user actions, dashboard and footer (for the primary network interface).</p>
        <p><strong>This settings only has an effect on notifications and user actions when at least one notification or user action (threshold exceeded or reset) is enabled.</strong></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Month</strong> <strong><u>OUT</u></strong>-bound Stop / Start Docker Container:</dt>
        <dd>
            <select id="TXDOCKERMSTOP" name="TXDOCKERMSTOP" size="1">
            <?=mk_option($dwdvm_mdocker_tx_stop, "disable", "Stop: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_mdocker_tx_stop, $dvm_available_docker, "Stop: $dvm_available_docker")); } }?>
            </select>
            <select id="TXDOCKERMSTART" name="TXDOCKERMSTART" size="1">
            <?=mk_option($dwdvm_mdocker_tx_start, "disable", "Start: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_mdocker_tx_start, $dvm_available_docker, "Start: $dvm_available_docker")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what Docker containers should be stopped when the last month outbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what Docker containers should be started when the last month outbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for stop container / threshold reset user action for start container) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Month</strong> <strong><u>OUT</u></strong>-bound Disconnect / Reconnect VM:</dt>
        <dd>
            <select id="TXVMMSTOP" name="TXVMMSTOP" size="1">
            <?=mk_option($dwdvm_mvm_tx_stop, "disable", "Disconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_mvm_tx_stop, $dvm_available_vm, "Disconnect: $dvm_available_vm")); } }?>
            </select>
            <select id="TXVMMSTART" name="TXVMMSTART" size="1">
            <?=mk_option($dwdvm_mvm_tx_start, "disable", "Reconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_mvm_tx_start, $dvm_available_vm, "Reconnect: $dvm_available_vm")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what virtual machine should be disconnected from the network when the last month outbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what virtual machine should be reconnected to the network when the last month outbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p>This action is equivalent to unplugging and replugging a network cable from a computer - this means in principle no other changes are made to the virtual machine and virtual machine settings respectively.</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for disconnect VM / threshold reset user action for reconnect VM) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Year</strong> <strong><u>IN</u></strong>-bound Data Volume Threshold:</dt>
        <dd>
            <input type="text" class="narrow dvmlimit" id="RXLIMITY" name="RXLIMITY" maxlength="40" value="<?=$dwdvm_ylimit_rx;?>">
            <select id="RXUNITY" name="RXUNITY" size="1">
            <?=mk_option($dwdvm_yunit_rx, "B", "B");?>
            <?=mk_option($dwdvm_yunit_rx, "KB", "KB");?>
            <?=mk_option($dwdvm_yunit_rx, "MB", "MB");?>
            <?=mk_option($dwdvm_yunit_rx, "GB", "GB");?>
            <?=mk_option($dwdvm_yunit_rx, "TB", "TB");?>
            </select><em style="font-size:x-small">disable: -1</em>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls the last year inbound data volume threshold on notifications, user actions, dashboard and footer (for the primary network interface).</p>
        <p><strong>This settings only has an effect on notifications and user actions when at least one notification or user action (threshold exceeded or reset) is enabled.</strong></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Year</strong> <strong><u>IN</u></strong>-bound Stop / Start Docker Container:</dt>
        <dd>
            <select id="RXDOCKERYSTOP" name="RXDOCKERYSTOP" size="1">
            <?=mk_option($dwdvm_ydocker_rx_stop, "disable", "Stop: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_ydocker_rx_stop, $dvm_available_docker, "Stop: $dvm_available_docker")); } }?>
            </select>
            <select id="RXDOCKERYSTART" name="RXDOCKERYSTART" size="1">
            <?=mk_option($dwdvm_ydocker_rx_start, "disable", "Start: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_ydocker_rx_start, $dvm_available_docker, "Start: $dvm_available_docker")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what Docker containers should be stopped when the last year inbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what Docker containers should be started when the last year inbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for stop container / threshold reset user action for start container) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Year</strong> <strong><u>IN</u></strong>-bound Disconnect / Reconnect VM:</dt>
        <dd>
            <select id="RXVMYSTOP" name="RXVMYSTOP" size="1">
            <?=mk_option($dwdvm_yvm_rx_stop, "disable", "Disconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_yvm_rx_stop, $dvm_available_vm, "Disconnect: $dvm_available_vm")); } }?>
            </select>
            <select id="RXVMYSTART" name="RXVMYSTART" size="1">
            <?=mk_option($dwdvm_yvm_rx_start, "disable", "Reconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_yvm_rx_start, $dvm_available_vm, "Reconnect: $dvm_available_vm")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what virtual machine should be disconnected from the network when the last year inbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what virtual machine should be reconnected to the network when the last year inbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p>This action is equivalent to unplugging and replugging a network cable from a computer - this means in principle no other changes are made to the virtual machine and virtual machine settings respectively.</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for disconnect VM / threshold reset user action for reconnect VM) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Year</strong> <strong><u>OUT</u></strong>-bound Data Volume Threshold:</dt>
        <dd>
            <input type="text" class="narrow dvmlimit" id="TXLIMITY" name="TXLIMITY" maxlength="40" value="<?=$dwdvm_ylimit_tx;?>">
            <select id="TXUNITY" name="TXUNITY" size="1">
            <?=mk_option($dwdvm_yunit_tx, "B", "B");?>
            <?=mk_option($dwdvm_yunit_tx, "KB", "KB");?>
            <?=mk_option($dwdvm_yunit_tx, "MB", "MB");?>
            <?=mk_option($dwdvm_yunit_tx, "GB", "GB");?>
            <?=mk_option($dwdvm_yunit_tx, "TB", "TB");?>
            </select><em style="font-size:x-small">disable: -1</em>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls the last year outbound data volume threshold on notifications, user actions, dashboard and footer (for the primary network interface).</p>
        <p><strong>This settings only has an effect on notifications and user actions when at least one notification or user action (threshold exceeded or reset) is enabled.</strong></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Year</strong> <strong><u>OUT</u></strong>-bound Stop / Start Docker Container:</dt>
        <dd>
            <select id="TXDOCKERYSTOP" name="TXDOCKERYSTOP" size="1">
            <?=mk_option($dwdvm_ydocker_tx_stop, "disable", "Stop: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_ydocker_tx_stop, $dvm_available_docker, "Stop: $dvm_available_docker")); } }?>
            </select>
            <select id="TXDOCKERYSTART" name="TXDOCKERYSTART" size="1">
            <?=mk_option($dwdvm_ydocker_tx_start, "disable", "Start: None");?>
            <?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_ydocker_tx_start, $dvm_available_docker, "Start: $dvm_available_docker")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what Docker containers should be stopped when the last year outbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what Docker containers should be started when the last year outbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for stop container / threshold reset user action for start container) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <dl>
        <dt>Last <strong>Year</strong> <strong><u>OUT</u></strong>-bound Disconnect / Reconnect VM:</dt>
        <dd>
            <select id="TXVMYSTOP" name="TXVMYSTOP" size="1">
            <?=mk_option($dwdvm_yvm_tx_stop, "disable", "Disconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_yvm_tx_stop, $dvm_available_vm, "Disconnect: $dvm_available_vm")); } }?>
            </select>
            <select id="TXVMYSTART" name="TXVMYSTART" size="1">
            <?=mk_option($dwdvm_yvm_tx_start, "disable", "Reconnect: None");?>
            <?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_yvm_tx_start, $dvm_available_vm, "Reconnect: $dvm_available_vm")); } }?>
            </select>
        </dd>
    </dl>

    <blockquote class="inline_help">
        <p>This setting controls what virtual machine should be disconnected from the network when the last year outbound data volume threshold has been exceeded (for the primary network interface).</p>
        <p>This setting controls what virtual machine should be reconnected to the network when the last year outbound data volume threshold has returned to normal (reset for the primary network interface).</p>
        <p>This action is equivalent to unplugging and replugging a network cable from a computer - this means in principle no other changes are made to the virtual machine and virtual machine settings respectively.</p>
        <p><strong>This settings only has an effect when the respective user actions (threshold exceeded user action for disconnect VM / threshold reset user action for reconnect VM) are enabled.</strong></p>
        <p><em>If you want to execute more commands or do more advanced scripting please refer to the <strong>dvm-user-actions.sh</strong> script, which can be edited using the DVM configuration editor.</em></p>
    </blockquote>

    <br>

    <div>
    <span class="left"><i class="icon fa fa-bullhorn"></i> Secondary Interface Thresholds and User Actions </span>
    </div><br>

    <div> 
    <table class="tablesorter">
    <thead><tr><th><strong>Network Interface</strong></th><th><strong>Traffic Direction</strong></th><th><strong>Timespan</strong></th><th><strong>Volume Threshold</strong></th><th><strong>Unit</strong></th><th><strong>Stop Docker</strong></th><th><strong>Start Docker</strong></th><th><strong>Disconnect VM</strong></th><th><strong>Reconnect VM</strong></th></tr></thead>
    <tbody>
    <tr>
    <td><? if($dvm_available_interfacs) { echo("<select id='CUSTOM1INTERFACE' name='CUSTOM1INTERFACE' size='1'>"); echo(mk_option($dwdvm_custom1_interface, "noiface", "-")); foreach ($dvm_available_interfacs as $dvm_available_interfac) { echo(mk_option($dwdvm_custom1_interface, $dvm_available_interfac, $dvm_available_interfac)); } echo("</select>"); } else { echo("<input type='text' class='narrow' id='CUSTOM1INTERFACE' name='CUSTOM1INTERFACE' maxlength='40' value='$dwdvm_custom1_interface'>"); } ?></td>
    <td><select id="CUSTOM1MODE" name="CUSTOM1MODE" size="1"><?=mk_option($dwdvm_custom1_mode, "rx", "IN-bound");?><?=mk_option($dwdvm_custom1_mode, "tx", "OUT-bound");?></select></td>
    <td><select id="CUSTOM1TIME" name="CUSTOM1TIME" size="1" class="narrow"><?=mk_option($dwdvm_custom1_time, "h", "Last Hour");?><?=mk_option($dwdvm_custom1_time, "d", "Last Day");?><?=mk_option($dwdvm_custom1_time, "m", "Last Month");?><?=mk_option($dwdvm_custom1_time, "y", "Last Year");?></select></td>
    <td><input type="text" class="narrow dvmlimit2" id="CUSTOM1LIMIT" name="CUSTOM1LIMIT" value="<?=$dwdvm_custom1_limit;?>"></input></td>
    <td><select id="CUSTOM1UNIT" name="CUSTOM1UNIT" class="narrow" size="1"><?=mk_option($dwdvm_custom1_unit, "B", "B");?><?=mk_option($dwdvm_custom1_unit, "KB", "KB");?><?=mk_option($dwdvm_custom1_unit, "MB", "MB");?><?=mk_option($dwdvm_custom1_unit, "GB", "GB");?><?=mk_option($dwdvm_custom1_unit, "TB", "TB");?></select></td>
    <td><select id="CUSTOM1STOP" name="CUSTOM1STOP" size="1"><?=mk_option($dwdvm_custom1_stop, "disable", "None");?><?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_custom1_stop, $dvm_available_docker, "$dvm_available_docker")); } }?></select></td>
    <td><select id="CUSTOM1START" name="CUSTOM1START" size="1"><?=mk_option($dwdvm_custom1_start, "disable", "None");?><?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_custom1_start, $dvm_available_docker, "$dvm_available_docker")); } }?></select></td>
    <td><select id="CUSTOM1VMSTOP" name="CUSTOM1VMSTOP" size="1"><?=mk_option($dwdvm_custom1_vmstop, "disable", "None");?><?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_custom1_vmstop, $dvm_available_vm, "$dvm_available_vm")); } }?></select></td>
    <td><select id="CUSTOM1VMSTART" name="CUSTOM1VMSTART" size="1"><?=mk_option($dwdvm_custom1_vmstart, "disable", "None");?><?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_custom1_vmstart, $dvm_available_vm, "$dvm_available_vm")); } }?></select></td>
    </tr>
    <tr>
    <td><? if($dvm_available_interfacs) { echo("<select id='CUSTOM2INTERFACE' name='CUSTOM2INTERFACE' size='1'>"); echo(mk_option($dwdvm_custom2_interface, "noiface", "-")); foreach ($dvm_available_interfacs as $dvm_available_interfac) { echo(mk_option($dwdvm_custom2_interface, $dvm_available_interfac, $dvm_available_interfac)); } echo("</select>"); } else { echo("<input type='text' class='narrow' id='CUSTOM2INTERFACE' name='CUSTOM2INTERFACE' maxlength='40' value='$dwdvm_custom2_interface'>"); } ?></td>
    <td><select id="CUSTOM2MODE" name="CUSTOM2MODE" size="1"><?=mk_option($dwdvm_custom2_mode, "rx", "IN-bound");?><?=mk_option($dwdvm_custom2_mode, "tx", "OUT-bound");?></select></td>
    <td><select id="CUSTOM2TIME" name="CUSTOM2TIME" size="1" class="narrow"><?=mk_option($dwdvm_custom2_time, "h", "Last Hour");?><?=mk_option($dwdvm_custom2_time, "d", "Last Day");?><?=mk_option($dwdvm_custom2_time, "m", "Last Month");?><?=mk_option($dwdvm_custom2_time, "y", "Last Year");?></select></td>
    <td><input type="text" class="narrow dvmlimit2" id="CUSTOM2LIMIT" name="CUSTOM2LIMIT" value="<?=$dwdvm_custom2_limit;?>"></input></td>
    <td><select id="CUSTOM2UNIT" name="CUSTOM2UNIT" class="narrow" size="1"><?=mk_option($dwdvm_custom2_unit, "B", "B");?><?=mk_option($dwdvm_custom2_unit, "KB", "KB");?><?=mk_option($dwdvm_custom2_unit, "MB", "MB");?><?=mk_option($dwdvm_custom2_unit, "GB", "GB");?><?=mk_option($dwdvm_custom2_unit, "TB", "TB");?></select></td>
    <td><select id="CUSTOM2STOP" name="CUSTOM2STOP" size="1"><?=mk_option($dwdvm_custom2_stop, "disable", "None");?><?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_custom2_stop, $dvm_available_docker, "$dvm_available_docker")); } }?></select></td>
    <td><select id="CUSTOM2START" name="CUSTOM2START" size="1"><?=mk_option($dwdvm_custom2_start, "disable", "None");?><?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_custom2_start, $dvm_available_docker, "$dvm_available_docker")); } }?></select></td>
    <td><select id="CUSTOM2VMSTOP" name="CUSTOM2VMSTOP" size="1"><?=mk_option($dwdvm_custom2_vmstop, "disable", "None");?><?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_custom2_vmstop, $dvm_available_vm, "$dvm_available_vm")); } }?></select></td>
    <td><select id="CUSTOM2VMSTART" name="CUSTOM2VMSTART" size="1"><?=mk_option($dwdvm_custom2_vmstart, "disable", "None");?><?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_custom2_vmstart, $dvm_available_vm, "$dvm_available_vm")); } }?></select></td>
    </tr>
    <tr>
    <td><? if($dvm_available_interfacs) { echo("<select id='CUSTOM3INTERFACE' name='CUSTOM3INTERFACE' size='1'>"); echo(mk_option($dwdvm_custom3_interface, "noiface", "-")); foreach ($dvm_available_interfacs as $dvm_available_interfac) { echo(mk_option($dwdvm_custom3_interface, $dvm_available_interfac, $dvm_available_interfac)); } echo("</select>"); } else { echo("<input type='text' class='narrow' id='CUSTOM3INTERFACE' name='CUSTOM3INTERFACE' maxlength='40' value='$dwdvm_custom3_interface'>"); } ?></td>
    <td><select id="CUSTOM3MODE" name="CUSTOM3MODE" size="1"><?=mk_option($dwdvm_custom3_mode, "rx", "IN-bound");?><?=mk_option($dwdvm_custom3_mode, "tx", "OUT-bound");?></select></td>
    <td><select id="CUSTOM3TIME" name="CUSTOM3TIME" size="1" class="narrow"><?=mk_option($dwdvm_custom3_time, "h", "Last Hour");?><?=mk_option($dwdvm_custom3_time, "d", "Last Day");?><?=mk_option($dwdvm_custom3_time, "m", "Last Month");?><?=mk_option($dwdvm_custom3_time, "y", "Last Year");?></select></td>
    <td><input type="text" class="narrow dvmlimit2" id="CUSTOM3LIMIT" name="CUSTOM3LIMIT" value="<?=$dwdvm_custom3_limit;?>"></input></td>
    <td><select id="CUSTOM3UNIT" name="CUSTOM3UNIT" class="narrow" size="1"><?=mk_option($dwdvm_custom3_unit, "B", "B");?><?=mk_option($dwdvm_custom3_unit, "KB", "KB");?><?=mk_option($dwdvm_custom3_unit, "MB", "MB");?><?=mk_option($dwdvm_custom3_unit, "GB", "GB");?><?=mk_option($dwdvm_custom3_unit, "TB", "TB");?></select></td>
    <td><select id="CUSTOM3STOP" name="CUSTOM3STOP" size="1"><?=mk_option($dwdvm_custom3_stop, "disable", "None");?><?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_custom3_stop, $dvm_available_docker, "$dvm_available_docker")); } }?></select></td>
    <td><select id="CUSTOM3START" name="CUSTOM3START" size="1"><?=mk_option($dwdvm_custom3_start, "disable", "None");?><?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_custom3_start, $dvm_available_docker, "$dvm_available_docker")); } }?></select></td>
    <td><select id="CUSTOM3VMSTOP" name="CUSTOM3VMSTOP" size="1"><?=mk_option($dwdvm_custom3_vmstop, "disable", "None");?><?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_custom3_vmstop, $dvm_available_vm, "$dvm_available_vm")); } }?></select></td>
    <td><select id="CUSTOM3VMSTART" name="CUSTOM3VMSTART" size="1"><?=mk_option($dwdvm_custom3_vmstart, "disable", "None");?><?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_custom3_vmstart, $dvm_available_vm, "$dvm_available_vm")); } }?></select></td>    
    </tr>
    <tr>
    <td><? if($dvm_available_interfacs) { echo("<select id='CUSTOM4INTERFACE' name='CUSTOM4INTERFACE' size='1'>"); echo(mk_option($dwdvm_custom4_interface, "noiface", "-")); foreach ($dvm_available_interfacs as $dvm_available_interfac) { echo(mk_option($dwdvm_custom4_interface, $dvm_available_interfac, $dvm_available_interfac)); } echo("</select>"); } else { echo("<input type='text' class='narrow' id='CUSTOM4INTERFACE' name='CUSTOM4INTERFACE' maxlength='40' value='$dwdvm_custom4_interface'>"); } ?></td>
    <td><select id="CUSTOM4MODE" name="CUSTOM4MODE" size="1"><?=mk_option($dwdvm_custom4_mode, "rx", "IN-bound");?><?=mk_option($dwdvm_custom4_mode, "tx", "OUT-bound");?></select></td>
    <td><select id="CUSTOM4TIME" name="CUSTOM4TIME" size="1" class="narrow"><?=mk_option($dwdvm_custom4_time, "h", "Last Hour");?><?=mk_option($dwdvm_custom4_time, "d", "Last Day");?><?=mk_option($dwdvm_custom4_time, "m", "Last Month");?><?=mk_option($dwdvm_custom4_time, "y", "Last Year");?></select></td>
    <td><input type="text" class="narrow dvmlimit2" id="CUSTOM4LIMIT" name="CUSTOM4LIMIT" value="<?=$dwdvm_custom4_limit;?>"></input></td>
    <td><select id="CUSTOM4UNIT" name="CUSTOM4UNIT" class="narrow" size="1"><?=mk_option($dwdvm_custom4_unit, "B", "B");?><?=mk_option($dwdvm_custom4_unit, "KB", "KB");?><?=mk_option($dwdvm_custom4_unit, "MB", "MB");?><?=mk_option($dwdvm_custom4_unit, "GB", "GB");?><?=mk_option($dwdvm_custom4_unit, "TB", "TB");?></select></td>
    <td><select id="CUSTOM4STOP" name="CUSTOM4STOP" size="1"><?=mk_option($dwdvm_custom4_stop, "disable", "None");?><?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_custom4_stop, $dvm_available_docker, "$dvm_available_docker")); } }?></select></td>
    <td><select id="CUSTOM4START" name="CUSTOM4START" size="1"><?=mk_option($dwdvm_custom4_start, "disable", "None");?><?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_custom4_start, $dvm_available_docker, "$dvm_available_docker")); } }?></select></td>
    <td><select id="CUSTOM4VMSTOP" name="CUSTOM4VMSTOP" size="1"><?=mk_option($dwdvm_custom4_vmstop, "disable", "None");?><?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_custom4_vmstop, $dvm_available_vm, "$dvm_available_vm")); } }?></select></td>
    <td><select id="CUSTOM4VMSTART" name="CUSTOM4VMSTART" size="1"><?=mk_option($dwdvm_custom4_vmstart, "disable", "None");?><?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_custom4_vmstart, $dvm_available_vm, "$dvm_available_vm")); } }?></select></td>
    </tr>
    <tr>
    <td><? if($dvm_available_interfacs) { echo("<select id='CUSTOM5INTERFACE' name='CUSTOM5INTERFACE' size='1'>"); echo(mk_option($dwdvm_custom5_interface, "noiface", "-")); foreach ($dvm_available_interfacs as $dvm_available_interfac) { echo(mk_option($dwdvm_custom5_interface, $dvm_available_interfac, $dvm_available_interfac)); } echo("</select>"); } else { echo("<input type='text' class='narrow' id='CUSTOM5INTERFACE' name='CUSTOM5INTERFACE' maxlength='40' value='$dwdvm_custom5_interface'>"); } ?></td>
    <td><select id="CUSTOM5MODE" name="CUSTOM5MODE" size="1"><?=mk_option($dwdvm_custom5_mode, "rx", "IN-bound");?><?=mk_option($dwdvm_custom5_mode, "tx", "OUT-bound");?></select></td>
    <td><select id="CUSTOM5TIME" name="CUSTOM5TIME" size="1" class="narrow"><?=mk_option($dwdvm_custom5_time, "h", "Last Hour");?><?=mk_option($dwdvm_custom5_time, "d", "Last Day");?><?=mk_option($dwdvm_custom5_time, "m", "Last Month");?><?=mk_option($dwdvm_custom5_time, "y", "Last Year");?></select></td>
    <td><input type="text" class="narrow dvmlimit2" id="CUSTOM5LIMIT" name="CUSTOM5LIMIT" value="<?=$dwdvm_custom5_limit;?>"></input></td>
    <td><select id="CUSTOM5UNIT" name="CUSTOM5UNIT" class="narrow" size="1"><?=mk_option($dwdvm_custom5_unit, "B", "B");?><?=mk_option($dwdvm_custom5_unit, "KB", "KB");?><?=mk_option($dwdvm_custom5_unit, "MB", "MB");?><?=mk_option($dwdvm_custom5_unit, "GB", "GB");?><?=mk_option($dwdvm_custom5_unit, "TB", "TB");?></select></td>
    <td><select id="CUSTOM5STOP" name="CUSTOM5STOP" size="1"><?=mk_option($dwdvm_custom5_stop, "disable", "None");?><?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_custom5_stop, $dvm_available_docker, "$dvm_available_docker")); } }?></select></td>
    <td><select id="CUSTOM5START" name="CUSTOM5START" size="1"><?=mk_option($dwdvm_custom5_start, "disable", "None");?><?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_custom5_start, $dvm_available_docker, "$dvm_available_docker")); } }?></select></td>
    <td><select id="CUSTOM5VMSTOP" name="CUSTOM5VMSTOP" size="1"><?=mk_option($dwdvm_custom5_vmstop, "disable", "None");?><?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_custom5_vmstop, $dvm_available_vm, "$dvm_available_vm")); } }?></select></td>
    <td><select id="CUSTOM5VMSTART" name="CUSTOM5VMSTART" size="1"><?=mk_option($dwdvm_custom5_vmstart, "disable", "None");?><?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_custom5_vmstart, $dvm_available_vm, "$dvm_available_vm")); } }?></select></td>
    </tr>
    <tr>
    <td><? if($dvm_available_interfacs) { echo("<select id='CUSTOM6INTERFACE' name='CUSTOM6INTERFACE' size='1'>"); echo(mk_option($dwdvm_custom6_interface, "noiface", "-")); foreach ($dvm_available_interfacs as $dvm_available_interfac) { echo(mk_option($dwdvm_custom6_interface, $dvm_available_interfac, $dvm_available_interfac)); } echo("</select>"); } else { echo("<input type='text' class='narrow' id='CUSTOM6INTERFACE' name='CUSTOM6INTERFACE' maxlength='40' value='$dwdvm_custom6_interface'>"); } ?></td>
    <td><select id="CUSTOM6MODE" name="CUSTOM6MODE" size="1"><?=mk_option($dwdvm_custom6_mode, "rx", "IN-bound");?><?=mk_option($dwdvm_custom6_mode, "tx", "OUT-bound");?></select></td>
    <td><select id="CUSTOM6TIME" name="CUSTOM6TIME" size="1" class="narrow"><?=mk_option($dwdvm_custom6_time, "h", "Last Hour");?><?=mk_option($dwdvm_custom6_time, "d", "Last Day");?><?=mk_option($dwdvm_custom6_time, "m", "Last Month");?><?=mk_option($dwdvm_custom6_time, "y", "Last Year");?></select></td>
    <td><input type="text" class="narrow dvmlimit2" id="CUSTOM6LIMIT" name="CUSTOM6LIMIT" value="<?=$dwdvm_custom6_limit;?>"></input></td>
    <td><select id="CUSTOM6UNIT" name="CUSTOM6UNIT" class="narrow" size="1"><?=mk_option($dwdvm_custom6_unit, "B", "B");?><?=mk_option($dwdvm_custom6_unit, "KB", "KB");?><?=mk_option($dwdvm_custom6_unit, "MB", "MB");?><?=mk_option($dwdvm_custom6_unit, "GB", "GB");?><?=mk_option($dwdvm_custom6_unit, "TB", "TB");?></select></td>
    <td><select id="CUSTOM6STOP" name="CUSTOM6STOP" size="1"><?=mk_option($dwdvm_custom6_stop, "disable", "None");?><?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_custom6_stop, $dvm_available_docker, "$dvm_available_docker")); } }?></select></td>
    <td><select id="CUSTOM6START" name="CUSTOM6START" size="1"><?=mk_option($dwdvm_custom6_start, "disable", "None");?><?if($dvm_available_dockers) { foreach ($dvm_available_dockers as $dvm_available_docker) { echo(mk_option($dwdvm_custom6_start, $dvm_available_docker, "$dvm_available_docker")); } }?></select></td>
    <td><select id="CUSTOM6VMSTOP" name="CUSTOM6VMSTOP" size="1"><?=mk_option($dwdvm_custom6_vmstop, "disable", "None");?><?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_custom6_vmstop, $dvm_available_vm, "$dvm_available_vm")); } }?></select></td>
    <td><select id="CUSTOM6VMSTART" name="CUSTOM6VMSTART" size="1"><?=mk_option($dwdvm_custom6_vmstart, "disable", "None");?><?if($dvm_available_vms) { foreach ($dvm_available_vms as $dvm_available_vm) { echo(mk_option($dwdvm_custom6_vmstart, $dvm_available_vm, "$dvm_available_vm")); } }?></select></td>
    </tr>
    </tbody>
    </table>
    </div>

    <blockquote class="inline_help">
    <p>This settings table allows you to configure secondary thresholds and user actions for different network interfaces.</p>
    <p><strong>Please <u>do not</u> use your primary network interface in this section, as any settings made in this section will have no effect on your primary network interface.</strong></p>
    <p>It is possible to configure <u>two or more secondary thresholds</u> using the <u>same combination of network interface, traffic direction and timespan</u>, but the status color of the interface will then be based on the first alarm.</p> 
    <p>For example for two alarms both using interface 'eth1', 'inbound' and 'hour': the dashboard will show the status color for the first alarm, but the notifications and actions will run for both and independently of each other.</p>
    </blockquote>

    <dl>
        <dt>
            <input id="DEFAULT" type="submit" name="#default" value="Default">
        </dt>
        <dd>
            <input type="submit" id="btnApply3" name="#apply" value="Apply"><input type="button" value="Done" onclick="done()">
        </dd>
    </dl>

</form>

<script type="text/javascript">
function checkRUNNING(){
   if ($('#SERVICE').val() === 'enable')
        $('#command').val('/usr/local/emhttp/plugins/dwdvm/scripts/start');
    else
        $('#command').val('/usr/local/emhttp/plugins/dwdvm/scripts/stop');
    if ("<?=$dwdvm_running;?>" == 1){
        $('.dwdvm-run').prop('disabled', true);
        $('#RESTART').prop('disabled', false);
        $('#CLEANDB').prop('disabled', false);
    }else{
        $('.dwdvm-run').prop('disabled', false);
        $('#RESTART').prop('disabled', true);
        $('#CLEANDB').prop('disabled', true);
    }
}
function checkLIMITS(){
    $('.dvmlimit').each(function( index ) {
        if($(this).val().trim() === '-1') {
            $(this).css('opacity', '0.33');
            $(this).next().css('opacity', '0.33');
            $(this).closest('dl').next().next().find('select').css('opacity', '0.33');
	    $(this).closest('dl').next().next().next().next().find('select').css('opacity', '0.33');
        } else {
            $(this).css('opacity', '');
            $(this).next().css('opacity', '');
            $(this).closest('select').css('opacity', '');
            $(this).closest('dl').next().next().find('select').css('opacity', '');
            $(this).closest('dl').next().next().next().next().find('select').css('opacity', '');
        }
    });
    $('.dvmlimit2').each(function( index ) {
        if($(this).val().trim() === '-1') {
            $(this).css('opacity', '0.33');
            $(this).parent().siblings().css('opacity', '0.33');
        } else {
            $(this).css('opacity', '');
            $(this).parent().siblings().css('opacity', '');
        }
    });
}
function Restart(){
    $('#command').val('/usr/local/emhttp/plugins/dwdvm/scripts/restart');
    $('#dwdvm-settings').submit();
}
function ResetConfig(){
    $('#command').val('');
    openBox('/usr/local/emhttp/plugins/dwdvm/scripts/resetconf', 'DVM Reset Config', 600, 600, true);
}
function ResetAll(){
    $('#command').val('');
    openBox('/usr/local/emhttp/plugins/dwdvm/scripts/resetall', 'DVM Reset All', 600, 600, true);
}
function CleanDB(){
    $('#command').val('');
    openBox('/usr/local/emhttp/plugins/dwdvm/scripts/clean_db', 'DVM Database Purger', 600, 600, true);
}
$(function() {

    $('form input:not([type="submit"])').keydown(function(e) {
        if (e.keyCode == 13) {
            e.preventDefault();
            return false;
        }
    });

    $('#btnApply').click(function(){
        $('#dwdvm-settings').submit();
    });
    $('#btnApply2').click(function(){
        $('#dwdvm-display').submit();
    });
    $('#btnApply3').click(function(){
        $('#dwdvm-alarms').submit();
    });

    $('#RESTART').click(Restart);

    if (typeof swal === "function") { 
        $('#RESETCONF').click(function(){ swal({title:"Are you sure?",text:"DVM configuration will be returned to the default state.<br>DVM database <u>will not be wiped</u> of any of its contents!",type:"warning",html:true,showCancelButton:true}, ResetConfig); });
        $('#RESETALL').click(function(){ swal({title:"Are you sure?",text:"DVM configuration will be returned to the default state.<br>DVM database <u>will be wiped</u> of all of its contents!",type:"warning",html:true,showCancelButton:true}, ResetAll); });
        $('#CLEANDB').click(function(){ swal({title:"Are you sure?",text:"All not currently existing network interfaces <u>and all their recorded data volume information</u> will be removed from the DVM database!",type:"warning",html:true,showCancelButton:true}, CleanDB); });
    } else {
        $('#RESETCONF').click(ResetConfig);
        $('#RESETALL').click(ResetAll);
        $('#CLEANDB').click(CleanDB);
    }

    $('#SERVICE').change(checkRUNNING);
    $('.dvmlimit').change(checkLIMITS);
    $('.dvmlimit2').change(checkLIMITS);

    checkRUNNING();
    checkLIMITS();

});
</script>
