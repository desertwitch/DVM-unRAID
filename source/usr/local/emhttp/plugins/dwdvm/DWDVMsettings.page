Menu="NetworkServices"
Type="xmenu"
Title="DVM"
Icon="pie-chart"
Tag="pie-chart"
Markdown="false"
---
<?PHP
/* Copyright Derek Macias (parts of code from NUT package)
 * Copyright macester (parts of code from NUT package)
 * Copyright gfjardim (parts of code from NUT package)
 * Copyright SimonF (parts of code from NUT package)
 * Copyright Mohamed Emad (icon from vnstat-client package)
 * Copyright desertwitch
 *
 * Copyright Dan Landon
 * Copyright Bergware International
 * Copyright Lime Technology
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License 2
 * as published by the Free Software Foundation.
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 */
?>
<? require_once '/usr/local/emhttp/plugins/dwdvm/include/dwdvm_config.php'; ?>

<div> 
<table class="tablesorter shift" border="1">
<thead>
<tr><th><strong>Network Interface</strong></th><th colspan="2"><strong>Last 5 Minutes</strong></th><th colspan="2"><strong>Last Hour</strong></th><th colspan="2"><strong>Last Day</strong></th><th colspan="2"><strong>Last Month</strong></th><th colspan="2"><strong>Last Year</strong></th></tr>
<tr><th></th><th>INBOUND (RX)</th><th>OUTBOUND (TX)</th><th>INBOUND (RX)</th><th>OUTBOUND (TX)</th><th>INBOUND (RX)</th><th>OUTBOUND (TX)</th><th>INBOUND (RX)</th><th>OUTBOUND (TX)</th><th>INBOUND (RX)</th><th>OUTBOUND (TX)</th></tr>
</thead>
<tbody>
<?if ($dwdvm_running):?>
<?require_once '/usr/local/emhttp/plugins/dwdvm/include/dwdvm_report.php';?>
<?=build_report_light();?>
<?endif;?>
</tbody>
</table>
</div>


<div> 
<table class="tablesorter">
<thead><tr><th><strong>Network Interface</strong></th><th><strong>Report (Summary)</strong></th><th><strong>Report (5 Minutes)</strong></th><th><strong>Report (Hours)</strong></th><th><strong>Report (Days)</strong></th><th><strong>Report (Months)</strong></th><th><strong>Report (Years)</strong></th></tr></thead>
<tbody>
<?if ($dwdvm_running):?>
<?require_once '/usr/local/emhttp/plugins/dwdvm/include/dwdvm_report.php';?>
<?=build_report();?>
<?endif;?>
</tbody>
</table>
</div>

<script>
$(function() {
    showStatus('vnstatd');

    // dynamix plugin update api
    <?if (function_exists('plugin_update_available') && $version = plugin_update_available('dwdvm')):?>
        showNotice('DVM <?=htmlspecialchars($version);?> available. <a>Update</a>','dwdvm');
        $('#user-notice a').on('click', function () {
        $('#user-notice').empty();
    });
    <?endif;?>
});
</script>
